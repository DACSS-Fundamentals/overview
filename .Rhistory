## find out column names in fragility23
names(x = fragility23)
## Check the data types to find out if numeric columns have been read as should
str(object = fragility23)
## show me the first 10 rows
head(x = fragility23,10)
##show me the last 10 rows
tail(fragility23,10)
## keep some columns: Country, Total,S1,P1 E2 into object 'frag23_sub'
grep(pattern = "Country|S1|P1|E2|Total",x = names(fragility23),fixed = F,value = T) # test
keep=grep("Country|S1|P1|E2|Total",names(fragility23),fixed = F,value = T)
frag23_sub=fragility23[,keep]
## give the statistical description of "frag23_sub"
summary(object = frag23_sub)
## rename 'frag23_sub' columns, use S1,P1 E2 only
names(frag23_sub)[3:5]=c("S1","E2", "P1")
## get me the top ten best countries on the column 'E2' from 'frag23_sub'
tail(frag23_sub[order(x=-frag23_sub$E2),],10) #option1
tail(frag23_sub[order(x=-frag23_sub$E2),'Country'],10) #option2
## show correlations between "S1","E2", "P1"
cor(x=frag23_sub[,-c(1,2)]) #no 'Country', no "Total'
## show correlations between "S1","E2", "P1" and their "significance"
#?install.packages("corrtable")
library(corrtable)
corrtable::correlation_matrix(df = frag23_sub[,-c(1,2)])
# some plotting
## give me a plot for the 'P1' variable
hist(x = frag23_sub$P1) #base r
library(ggplot2) # ggplot2 - standard
base=ggplot(data = frag23_sub)
base+ geom_histogram(aes(x=P1))
## visual correlation between S1 and E2
plot(x=frag23_sub$S1, y=frag23_sub$E2)
base + geom_point(aes(x=S1,y=E2))
## color points if country is on the worst quartile of Total
frag23_sub$Total>=q3_Total
q3_Total=quantile(x = frag23_sub$Total,
probs = 0.75,
na.rm = TRUE)
frag23_sub$Total>=q3_Total
as.numeric(frag23_sub$Total>=q3_Total)
as.factor(frag23_sub$Total>=q3_Total)
as.numeric(as.factor(frag23_sub$Total>=q3_Total))
as.factor(as.numeric(frag23_sub$Total>=q3_Total))
as.numeric(frag23_sub$Total>=q3_Total)
as.numeric(as.factor(frag23_sub$Total>=q3_Total))
as.factor(frag23_sub$Total>=q3_Total)
as.numeric(as.factor(frag23_sub$Total>=q3_Total))
frag23_sub$worstQ=as.numeric(as.factor(frag23_sub$Total>=q3_Total))
plot(frag23_sub$S1,
frag23_sub$E2,
col = frag23_sub$worstQ)
plot(frag23_sub$S1,
frag23_sub$E2,
fill = frag23_sub$worstQ)
plot(frag23_sub$S1,
frag23_sub$E2,shape=21,
col = frag23_sub$worstQ)
plot(frag23_sub$S1,
frag23_sub$E2,pch=21,
col = frag23_sub$worstQ)
plot(frag23_sub$S1,
frag23_sub$E2,pch=21,
col = frag23_sub$worstQ)
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = frag23_sub$worstQ)
base + geom_point(aes(x=S1,y=E2,color=worstQ))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=worstQ))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=worstQ))
frag23_sub$Total>=q3_Total
as.numeric(x = frag23_sub$Total>=q3_Total)
as.factor(x = frag23_sub$Total>=q3_Total)
as.numeric(as.factor(frag23_sub$Total>=q3_Total))
frag23_sub$Totalx>=q3_Total
## color points if country is on the worst quartile of Total
q3_Total=quantile(x = frag23_sub$Total,
probs = 0.75,
na.rm = TRUE)
frag23_sub$Totalx>=q3_Total
## in R,
## read file from a URL
## file is in **excel**
## create the object '**fragility23**' to hold the contents
# starting fresh
rm(list = ls())
# reading data
# opening a file from a url (file in Excel), name it 'fragility23'
linkGit="https://github.com/DACSS-Fundamentals/overview/raw/refs/heads/main/FSI-2023-DOWNLOAD.xlsx"
#install.packages('rio')
library(rio) # package needed
fragility23=rio::import(file = linkGit) #object that will hold the result
# first operations
## find out column names in fragility23
names(x = fragility23)
## Check the data types to find out if numeric columns have been read as should
str(object = fragility23)
## show me the first 10 rows
head(x = fragility23,10)
##show me the last 10 rows
tail(fragility23,10)
# Basic manipulation
## keep some columns: Country, Total,S1,P1 E2 into object 'frag23_sub'
grep(pattern = "Country|S1|P1|E2|Total",x = names(fragility23),fixed = F,value = T) # test
keep=grep("Country|S1|P1|E2|Total",names(fragility23),fixed = F,value = T)
frag23_sub=fragility23[,keep]
## give the statistical description of "frag23_sub"
summary(object = frag23_sub)
## rename 'frag23_sub' columns, use S1,P1 E2 only
names(frag23_sub)[3:5]=c("S1","E2", "P1")
## get me the top ten best countries on the column 'E2' from 'frag23_sub'
tail(frag23_sub[order(x=-frag23_sub$E2),],10) #option1
tail(frag23_sub[order(x=-frag23_sub$E2),'Country'],10) #option2
## show correlations between "S1","E2", "P1"
cor(x=frag23_sub[,-c(1,2)]) #no 'Country', no "Total'
## show correlations between "S1","E2", "P1" and their "significance"
#?install.packages("corrtable")
library(corrtable)
corrtable::correlation_matrix(df = frag23_sub[,-c(1,2)])
# some plotting
## give me a plot for the 'P1' variable
hist(x = frag23_sub$P1) #base r
library(ggplot2) # ggplot2 - standard
base=ggplot(data = frag23_sub)
base+ geom_histogram(aes(x=P1))
## visual correlation between S1 and E2
plot(x=frag23_sub$S1, y=frag23_sub$E2)
base + geom_point(aes(x=S1,y=E2))
## color points if country is on the worst quartile of Total
q3_Total=quantile(x = frag23_sub$Total,
probs = 0.75,
na.rm = TRUE)
frag23_sub$Totalx>=q3_Total
frag23_sub$Total>=q3_Total
frag23_sub$worstQ=frag23_sub$Total>=q3_Total
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = frag23_sub$worstQ)
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = as.factor(frag23_sub$worstQ))
q3_Total=quantile(x = frag23_sub$Total,
probs = 0.75,
na.rm = TRUE)
frag23_sub$Total>=q3_Total
frag23_sub$worstQ=frag23_sub$Total>=q3_Total
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = as.factor(frag23_sub$worstQ))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=as.factor(frag23_sub$worstQ)))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=frag23_sub$worstQ))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=frag23_sub$worstQ))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=worstQ))
frag23_sub$worstQt=frag23_sub$Total>=q3_Total
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = as.factor(frag23_sub$worstQt))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=worstQt))
lm(S1~P1+E2,data=frag23_sub)
## in R,
## read file from a URL
## file is in **excel**
## create the object '**fragility23**' to hold the contents
# starting fresh
rm(list = ls())
# reading data
# opening a file from a url (file in Excel), name it 'fragility23'
linkGit="https://github.com/DACSS-Fundamentals/overview/raw/refs/heads/main/FSI-2023-DOWNLOAD.xlsx"
#install.packages('rio')
library(rio) # package needed
fragility23=rio::import(file = linkGit) #object that will hold the result
# first operations
## find out column names in fragility23
names(x = fragility23)
## Check the data types to find out if numeric columns have been read as should
str(object = fragility23)
## show me the first 10 rows
head(x = fragility23,10)
##show me the last 10 rows
tail(fragility23,10)
# Basic manipulation
## keep some columns: Country, Total,S1,P1 E2 into object 'frag23_sub'
grep(pattern = "Country|S1|P1|E2|Total",x = names(fragility23),fixed = F,value = T) # test
keep=grep("Country|S1|P1|E2|Total",names(fragility23),fixed = F,value = T)
frag23_sub=fragility23[,keep]
## give the statistical description of "frag23_sub"
summary(object = frag23_sub)
## rename 'frag23_sub' columns, use S1,P1 E2 only
names(frag23_sub)[3:5]=c("S1","E2", "P1")
## get me the top ten best countries on the column 'E2' from 'frag23_sub'
tail(frag23_sub[order(x=-frag23_sub$E2),],10) #option1
tail(frag23_sub[order(x=-frag23_sub$E2),'Country'],10) #option2
## show correlations between "S1","E2", "P1"
cor(x=frag23_sub[,-c(1,2)]) #no 'Country', no "Total'
## show correlations between "S1","E2", "P1" and their "significance"
#?install.packages("corrtable")
library(corrtable)
corrtable::correlation_matrix(df = frag23_sub[,-c(1,2)])
# some plotting
## give me a plot for the 'P1' variable
hist(x = frag23_sub$P1) #base r
library(ggplot2) # ggplot2 - standard
base=ggplot(data = frag23_sub)
base+ geom_histogram(aes(x=P1))
## visual correlation between S1 and E2
plot(x=frag23_sub$S1, y=frag23_sub$E2)
base + geom_point(aes(x=S1,y=E2))
## color points if country is on the worst quartile of Total
q3_Total=quantile(x = frag23_sub$Total,
probs = 0.75,
na.rm = TRUE)
frag23_sub$Total>=q3_Total
frag23_sub$worstQt=frag23_sub$Total>=q3_Total
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = as.factor(frag23_sub$worstQt))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=worstQt))
## regress S1 on P1 and E2
lm(S1~P1+E2,data=frag23_sub)
print(lm(S1~P1+E2,data=frag23_sub))
summary(lm(S1~P1+E2,data=frag23_sub))
# install.packages("stargazer") # Uncomment and run if not installed
library(stargazer)
install.packages("stargazer") # Uncomment and run if not installed
# install.packages("stargazer") # Uncomment and run if not installed
library(stargazer)
# 1. Fit your linear model
model <- lm(S1 ~ P1 + E2, data = frag23_sub)
# 2. Render the table in the R console (text format)
stargazer(model,
type = "text",             # Output as plain text for the console
title = "Regression Results for S1",
dep.var.labels = "S1 Variable",
covariate.labels = c("P1 Variable", "E2 Variable"),
out.header = FALSE)
stargazer(model,
type = "latex",
title = "Regression Results for S1",
dep.var.labels = "S1 Variable",
covariate.labels = c("P1 Variable", "E2 Variable"),
out.header = FALSE)
stargazer(model,
type = "html",
title = "Regression Results for S1",
dep.var.labels = "S1 Variable",
covariate.labels = c("P1 Variable", "E2 Variable"),
out.header = FALSE)
## Check the data types to find out if numeric columns have been read as should
str(object = fragility23)
stargazer(model,
type = "text",
title = "Regression Results for S1",
dep.var.labels = "Demographic Pressures",
covariate.labels = c("State Legitimacy", "Economic Inequality"),
out.header = FALSE)
library(sjPlot)
install.packages("sjPlot")
plot_models(model,vline.color = "black",m.labels=c("Modelo 1","Modelo 2","Modelo 3"),dot.size = 1,line.size = 0.6)
#install.packages("sjPlot")
library(sjPlot)
plot_models(model,vline.color = "black",m.labels=c("Modelo 1","Modelo 2","Modelo 3"),dot.size = 1,line.size = 0.6)
plot_models(model,vline.color = "black",m.labels=c("Modelo 1"),dot.size = 1,line.size = 0.6)
?plot_models
plot_models(model,vline.color = "red",
m.labels=c("Modelo 1"),
dot.size = 1,line.size = 0.6)
plot_models(model,vline.color = "red",
m.labels=c("Modelo 1"),
dot.size = 1,line.size = 2)
library(sjPlot)
plot_models(model,vline.color = "red",
m.labels=c("Modelo 1"),
dot.size = 1,line.size = 0.6)
plot_models(model,vline.color = "red",
m.labels=c("Regression Results for Demographic Pressures"),
axis.labels = c("State Legitimacy", "Economic Inequality"),
dot.size = 1,line.size = 0.6)
lm(S1~P1+E2,data=frag23_sub)
## Check the data types to find out if numeric columns have been read as should
str(object = fragility23)
stargazer(model,
type = "text",
title = "Regression Results for Demographic Pressures",
dep.var.labels = "Demographic Pressures",
covariate.labels = c("State Legitimacy", "Economic Inequality"),
out.header = FALSE)
## regress S1 on P1 and E2
lm(S1~P1+E2,data=frag23_sub)
plot_models(model,vline.color = "red",
m.labels=c("Regression Results for Demographic Pressures"),
axis.labels = c("Economic Inequality","State Legitimacy"),
dot.size = 1,line.size = 0.6)
plot_models(model,vline.color = "red",
m.labels=c("y=Demographic Pressures"),
axis.labels = c("Economic Inequality","State Legitimacy"),
dot.size = 1,line.size = 0.6)
library(sjPlot)
plot_models(model,vline.color = "red",
m.labels=c("Demographic Pressures"),
axis.labels = c("Economic Inequality","State Legitimacy"),
dot.size = 1,line.size = 0.6)
library(sjPlot)
plot_models(model,vline.color = "red",
m.labels=c("Demographic Pressures"),
axis.labels = c("Economic Inequality","State Legitimacy"),
dot.size = 1,line.size = 0.6)
plot_models(model,vline.color = "red",vline = 0,
m.labels=c("Demographic Pressures"),
axis.labels = c("Economic Inequality","State Legitimacy"),
dot.size = 1,line.size = 0.6)
library(sjPlot)
plot_models(model,
m.labels=c("Demographic Pressures"),
axis.labels = c("Economic Inequality","State Legitimacy"),
dot.size = 1,line.size = 0.6)
rm(list = ls())
# opening a file from a url (file in Excel), name it 'fragility23'
linkGit="https://github.com/DACSS-Fundamentals/overview/raw/refs/heads/main/FSI-2023-DOWNLOAD.xlsx"
rm(list = ls())
# opening a file from a url (file in Excel), name it 'fragility23'
linkGit="https://github.com/DACSS-Fundamentals/overview/raw/refs/heads/main/FSI-2023-DOWNLOAD.xlsx"
#install.packages('rio')
library(rio) # package needed
fragility23=rio::import(file = linkGit) #object that will hold the result
## find out column names in fragility23
names(x = fragility23)
## Check the data types to find out if numeric columns have been read as should
str(object = fragility23)
## show me the first 10 rows
head(x = fragility23,10)
##show me the last 10 rows
tail(fragility23,10)
## keep some columns: Country, Total,S1,P1 E2 into object 'frag23_sub'
grep(pattern = "Country|S1|P1|E2|Total",x = names(fragility23),fixed = F,value = T) # test
keep=grep("Country|S1|P1|E2|Total",names(fragility23),fixed = F,value = T)
frag23_sub=fragility23[,keep]
## give the statistical description of "frag23_sub"
summary(object = frag23_sub)
## rename 'frag23_sub' columns, use S1,P1 E2 only
names(frag23_sub)[3:5]=c("S1","E2", "P1")
## get me the top ten best countries on the column 'E2' from 'frag23_sub'
tail(frag23_sub[order(x=-frag23_sub$E2),],10) #option1
tail(frag23_sub[order(x=-frag23_sub$E2),'Country'],10) #option2
## show correlations between "S1","E2", "P1"
cor(x=frag23_sub[,-c(1,2)]) #no 'Country', no "Total'
## show correlations between "S1","E2", "P1" and their "significance"
#?install.packages("corrtable")
library(corrtable)
corrtable::correlation_matrix(df = frag23_sub[,-c(1,2)])
## regress P1 and E2 on S1
lm(S1~P1+E2,data=frag23_sub)
model <- lm(S1 ~ P1 + E2, data = frag23_sub)
summary(model)
library(stargazer) # install.packages("stargazer")
stargazer(model,
type = "text",
title = "Regression Results for Demographic Pressures",
dep.var.labels = "Demographic Pressures",
covariate.labels = c("State Legitimacy", "Economic Inequality"),
out.header = FALSE)
# some plotting
## give me a plot for the 'P1' variable
hist(x = frag23_sub$P1) #base r
library(ggplot2) # ggplot2 - standard
base=ggplot(data = frag23_sub)
base+ geom_histogram(aes(x=P1))
## visual correlation between S1 and E2
plot(x=frag23_sub$S1, y=frag23_sub$E2)
base + geom_point(aes(x=S1,y=E2))
## color points if country is on the worst quartile of Total
q3_Total=quantile(x = frag23_sub$Total,
probs = 0.75,
na.rm = TRUE)
frag23_sub$Total>=q3_Total
frag23_sub$worstQt=frag23_sub$Total>=q3_Total
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = as.factor(frag23_sub$worstQt))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=worstQt))
#install.packages("sjPlot")
library(sjPlot)
plot_models(model,
m.labels=c("Demographic Pressures"),
axis.labels = c("Economic Inequality","State Legitimacy"),
dot.size = 1,line.size = 0.6)
base+ geom_boxplot(aes(x=P1))
base+ geom_boxplot(aes(y=P1))
base+ geom_boxplot(aes(x=P1))
stargazer(model)
stargazer(model,
type = "text")
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = frag23_sub$worstQt)
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = as.factor(frag23_sub$worstQt))
plot_models(model)
View(fragility23)
rm(list = ls())
## Check the data types in df
# let's find out if numeric columns have been read as should
str(object = fragility23)
# opening a file from a url (file in Excel), name it 'fragility23'
linkGit="https://github.com/DACSS-Fundamentals/overview/raw/refs/heads/main/FSI-2023-DOWNLOAD.xlsx"
#install.packages('rio')
library(rio) # package needed
fragility23=rio::import(file = linkGit) #object that will hold the result
## find out column names in fragility23
names(x = fragility23)
## Check the data types in df
# let's find out if numeric columns have been read as should
str(object = fragility23)
## show me the first 10 rows
head(x = fragility23,10)
##show me the last 10 rows
tail(fragility23,10)
quantile(x = frag23_sub$Total,
probs = 0.75,
na.rm = TRUE)
## in R,
## read file from a URL
## file is in **excel**
## create the object '**fragility23**' to hold the contents
# starting fresh
rm(list = ls())
# reading data
# opening a file from a url (file in Excel), name it 'fragility23'
linkGit="https://github.com/DACSS-Fundamentals/overview/raw/refs/heads/main/FSI-2023-DOWNLOAD.xlsx"
#install.packages('rio')
library(rio) # package needed
fragility23=rio::import(file = linkGit) #object that will hold the result
# first operations
## find out column names in fragility23
names(x = fragility23)
## Check the data types in df
# let's find out if numeric columns have been read as should
str(object = fragility23)
## show me the first 10 rows
head(x = fragility23,10)
##show me the last 10 rows
tail(fragility23,10)
# transformativs manipulation
## keep some columns:
##Country, Total,
## S1: Demographic Pressures,
## P1: State Legitimacy,
## E2: Economic Inequality
## into object 'frag23_sub'
grep(pattern = "Country|S1|P1|E2|Total",x = names(fragility23),fixed = F,value = T) # test
keep=grep("Country|S1|P1|E2|Total",names(fragility23),fixed = F,value = T)
frag23_sub=fragility23[,keep]
## rename 'frag23_sub' columns, use S1,P1 E2 only
names(frag23_sub)[3:5]=c("S1","E2", "P1")
## get me the top ten best countries on the column 'E2' from 'frag23_sub'
tail(frag23_sub[order(x=-frag23_sub$E2),],10) #option1
tail(frag23_sub[order(x=-frag23_sub$E2),'Country'],10) #option2
## give the statistical description of "frag23_sub"
summary(object = frag23_sub)
## the value of the worst quartile of Total
q3_Total=quantile(x = frag23_sub$Total,
probs = 0.75,
na.rm = TRUE)
## show correlations between "S1","E2", "P1"
cor(x=frag23_sub[,-c(1,2)]) #no 'Country', no "Total'
## show correlations between "S1","E2", "P1" and their "significance"
#?install.packages("corrtable")
library(corrtable)
corrtable::correlation_matrix(df = frag23_sub[,-c(1,2)])
## regress P1 and E2 on S1
lm(S1~P1+E2,data=frag23_sub)
model <- lm(S1 ~ P1 + E2, data = frag23_sub)
summary(model)
library(stargazer) # install.packages("stargazer")
stargazer(model,
type = "text")
# some plotting
## give me a plot for the 'P1' variable
hist(x = frag23_sub$P1) #base r
library(ggplot2) # ggplot2 - standard
base=ggplot(data = frag23_sub)
base+ geom_histogram(aes(x=P1))
base+ geom_boxplot(aes(x=P1))
## visual correlation between S1 and E2
plot(x=frag23_sub$S1, y=frag23_sub$E2)
base + geom_point(aes(x=S1,y=E2))
## color points if country is on the worst quartile of Total
frag23_sub$Total>=q3_Total
frag23_sub$worstQt=frag23_sub$Total>=q3_Total
plot(frag23_sub$S1,
frag23_sub$E2,pch=20,
col = as.factor(frag23_sub$worstQt))
base=ggplot(data = frag23_sub)
base + geom_point(aes(x=S1,y=E2,color=worstQt))
# visual of the regression P1 and E2 on S1
#install.packages("sjPlot")
library(sjPlot)
plot_models(model)
setwd("~/UMASS/FUNDAMENTALS_R/overview")
rmarkdown:::convert_ipynb(Demo1.ipynb)
rmarkdown:::convert_ipynb('Demo1.ipynb')
rmarkdown:::convert_ipynb('Demo1.ipynb')
?rmarkdown:::convert_ipynb
